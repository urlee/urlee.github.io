(function(a){a.fn.mnmenu=function(e){var d=a(this);var b={};if(typeof e!=="undefined"&&typeof e.levelSettings!=="undefined"){b=e.levelSettings;delete e.levelSettings}var c=a.extend({},a.fn.mnmenu.defaults,e);d.data("windowHeight",null);d.data("windowWidth",null);c.levelSettings=a.extend({},c.levelSettings,b);a(window).resize(function(){a.fn.mnmenu.windowResize(d,c)});this.each(function(){var f=a(this);if(f.prop("tagName").toUpperCase()!=="UL"){a.error("This function can only be called in <ul> elements.")}f.addClass(c.menuClassName);a.fn.mnmenu.levelRecursion(c,f,0);f.find("ul").each(function(){a(this).css("display","none")})});d.find("li").each(function(){var f=a(this);a.fn.mnmenu.addEventListeners(f,c)});a.fn.mnmenu.resetView(d,c);return d};a.fn.mnmenu.windowResize=function(c,b){if(typeof c.data("windowWidth")!=="undefined"&&c.data("windowWidth")!==null&&c.data("windowWidth")===a(window).width()){return}a.fn.mnmenu.resetView(c,b)};a.fn.mnmenu.mouseEnter=function(d,c){var b=a(window).width();clearTimeout(d.data("timer"));a.fn.mnmenu.elementsToHover(d,c).each(function(){a(this).addClass(c.hoverClassName)});d.children("ul").each(function(){var o=a(this);var l=o.parent("li");var k=l.closest("ul");if(o.is(":animated")){o.stop(true,true).show()}else{var s=1;var n=o;while(n.get(0)!==a(document).get(0)){var r=parseInt(n.css("z-index"));if(!isNaN(r)&&r>s){s=r}n=n.parent()}o.css("z-index",s+1);var g=0;var h=o[0].className.split(/\s+/);for(var m=0;m<h.length;m++){if(h[m].indexOf([c.levelClassPrefix,"-"].join(""))>=0){g=parseInt(h[m].substring(c.levelClassPrefix.length+1))}}var f=c.levelSettings[g];if(typeof f==="undefined"){f=c.levelSettings[0]}var j="auto",q="auto",p="auto",e="auto";if(f.parentAttachmentPosition.toUpperCase().indexOf("W")>=0&&f.attachmentPosition.toUpperCase().indexOf("E")>=0){q=l.outerWidth()+"px";if(l.offset().left-o.outerWidth()<0){j=l.outerWidth()+"px";q="auto"}}else{if(f.parentAttachmentPosition.toUpperCase().indexOf("E")>=0&&f.attachmentPosition.toUpperCase().indexOf("E")>=0){q="0px"}else{if(f.parentAttachmentPosition.toUpperCase().indexOf("E")>=0&&f.attachmentPosition.toUpperCase().indexOf("W")>=0){j=l.outerWidth()+"px";if((k.offset().left+k.outerWidth()+o.outerWidth())>b){if((k.outerWidth()+o.outerWidth())>b){j=(b-o.outerWidth())+"px"}else{j="auto";q=l.outerWidth()+"px"}}}else{if(f.parentAttachmentPosition.toUpperCase().indexOf("W")>=0&&f.attachmentPosition.toUpperCase().indexOf("W")>=0){j="0px"}}}}if(f.parentAttachmentPosition.toUpperCase().indexOf("N")>=0&&f.attachmentPosition.toUpperCase().indexOf("S")>=0){e=l.outerHeight()+"px"}else{if(f.parentAttachmentPosition.toUpperCase().indexOf("S")>=0&&f.attachmentPosition.toUpperCase().indexOf("S")>=0){e="0px"}else{if(f.parentAttachmentPosition.toUpperCase().indexOf("S")>=0&&f.attachmentPosition.toUpperCase().indexOf("N")>=0){p=l.outerHeight()+"px"}else{if(f.parentAttachmentPosition.toUpperCase().indexOf("N")>=0&&f.attachmentPosition.toUpperCase().indexOf("N")>=0){p="0px"}}}}o.css("left",j);o.css("right",q);o.css("top",p);o.css("bottom",e);o.slideDown(c.duration)}})};a.fn.mnmenu.mouseLeave=function(c,b){clearTimeout(c.data("timer"));a.fn.mnmenu.elementsToHover(c,b).each(function(){a(this).removeClass(b.hoverClassName)});c.children("ul").each(function(){var d=a(this);c.data("timer",setTimeout(function(){d.hide(b.duration)},b.delay))})};a.fn.mnmenu.resetView=function(e,d){var b=["li."+d.responsiveMenuButtonClass].join("");var g=e.find(b).addBack(b);if(g.length!==0){var c=g.children("ul").children();e.append(c);g.remove();a.fn.mnmenu.levelRecursion(d,e,0)}var f=0;e.find(["li.",d.levelClassPrefix,"-0"].join("")).each(function(){f+=a(this).outerWidth()});if(a(window).width()<(f+d.responsiveMenuWindowWidthFudge)&&d.responsiveMenuEnabled===true){var c=e.children();var g=a(["<li class='",d.responsiveMenuButtonClass," first'>",d.responsiveMenuButtonLabel,"<ul></ul></li>"].join(""));e.append(g);a.fn.mnmenu.addEventListeners(g,d);g.children("ul").append(c);a.fn.mnmenu.levelRecursion(d,e,0)}e.data("windowHeight",a(window).height());e.data("windowWidth",a(window).width())};a.fn.mnmenu.levelRecursion=function(d,b,e){if(b.prop("tagName").toUpperCase()==="LI"){var c=true;if(b.parent().children().first().get(0)===b.get(0)&&e>0){b.parent().closest("li").append(a(["<span ","class='",d.arrowClassName,"'></span>"].join("")).append(d.arrowCharacter));b.addClass(d.firstClassName);c=false}if(b.parent().children().last().get(0)===b.get(0)){b.addClass(d.lastClassName);c=false}if(c){b.addClass(d.middleClassName)}e++}b.children().each(function(){var f=a(this);f.removeClass([d.levelClassPrefix,"-",e].join(""));f.removeClass([d.levelClassPrefix,"-",(e-1)].join(""));f.removeClass([d.levelClassPrefix,"-",(e+1)].join(""));f.addClass([d.levelClassPrefix,"-",e].join(""));a.fn.mnmenu.levelRecursion(d,f,e)})};a.fn.mnmenu.addEventListeners=function(d,b){if(a.fn.hoverIntent){var c=d;c.hoverIntent(function(){a.fn.mnmenu.mouseEnter(a(this),b)},function(){a.fn.mnmenu.mouseLeave(a(this),b)})}else{var c=d;c.mouseenter(function(){a.fn.mnmenu.mouseEnter(a(this),b)});c.mouseleave(function(){a.fn.mnmenu.mouseLeave(a(this),b)})}};a.fn.mnmenu.elementsToHover=function(c,b){return a([c,c.children(":not(ul)")])};a.fn.mnmenu.defaults={menuClassName:"mnmenu",hoverClassName:"hover",levelClassPrefix:"level",arrowClassName:"arrow",arrowCharacter:" &#187;",firstClassName:"first",middleClassName:"middle",lastClassName:"last",delay:150,duration:250,defaultParentAttachmentPosition:"NE",defaultAttachmentPosition:"NW",responsiveMenuEnabled:true,responsiveMenuWindowWidthFudge:10,responsiveMenuButtonClass:"mnresponsive-button",responsiveMenuButtonLabel:"Menu"};a.fn.mnmenu.defaults.levelSettings={};a.fn.mnmenu.defaults.levelSettings[0]=new MNLevelSettings();a.fn.mnmenu.defaults.levelSettings[1]=new MNLevelSettings();a.fn.mnmenu.defaults.levelSettings[1].parentAttachmentPosition="SW";a.fn.mnmenu.defaults.levelSettings[1].attachmentPosition="NW"})(jQuery);function MNLevelSettings(){this.parentAttachmentPosition=$.fn.mnmenu.defaults.defaultParentAttachmentPosition;this.attachmentPosition=$.fn.mnmenu.defaults.defaultAttachmentPosition;this.arrowCharacter=$.fn.mnmenu.defaults.arrowCharacter};